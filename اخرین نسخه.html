<script>
let poems = [
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "1. ØµØ¯Ø§ÛŒ Ù…ÙˆØ¬",
    "content": "Ø¨Ø®ÙˆØ§Ù† Ø§ÛŒ Ù…ÙˆØ¬ Ø¨ÛŒâ€ŒÙ¾Ø§ÛŒØ§Ù† Ø¯Ø±ÛŒØ§\nÙ†ÙØ³â€ŒÙ‡Ø§ÛŒ Ø¨Ù„Ù†Ø¯ Ø¬Ø§Ù† Ø¯Ø±ÛŒØ§\n\nØºØ²Ù„â€ŒÙ‡Ø§ÛŒ ØµØ¯Ø§ÛŒØª Ø²Ù†Ø¯Ù‡ Ø³Ø§Ø²Ø¯\nÙ†Ø´Ø§Ø· Ø¹Ø´Ù‚ Ø¯Ø± Ú†Ø´Ù…Ø§Ù† Ø¯Ø±ÛŒØ§",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "2. Ù…Ø³ØªØ­Ù‚ ØªØ­Ø³ÛŒÙ†ÛŒ",
    "content": "Ø¯Ø±Ú©ØªØ§Ø¨Ù Ù†ØºØ² Ù Ø´Ø¹Ø±ØŒ Ù…Ø³ØªØ­Ù‚Ù ØªØ­Ø³ÛŒÙ†ÛŒ\nØªØ§ØºØ²Ù„ Ø³ÙØ±ÙˆØ¯Ø³ØªÙ…ØŒ Ù…ØµØ±Ø¹Ù Ù†Ø®Ø³ØªÛŒÙ†ÛŒ\n\nÚ†ÛŒØ¯Ù†ÛŒ ÙˆØ±Ù†Ú¯ÛŒÙ†ÛŒØŒ Ù†Ø§Ú†Ø´ÛŒØ¯Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ\nØ¯Ø±Ù‡ÙˆØ§ÛŒ Ø³Ø¨Ø²Ù Ø¯Ù„ØŒ Ø®ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±ÙˆÛŒÙ†ÛŒ\n\nØ³ÙØ±Ù Ø¨Ø§Ø¯Ù Ø¨Ø§ØºØª Ø±Ø§ØŒ Ø¨Ø±Ú©Ø³ÛŒ Ù†Ø®ÙˆØ§Ù‡Ù… Ú¯ÙØª\nØªØ§Ù†Ø³ÛŒÙ…Ù Ú¯ÙÙ„ Ú¯ÙˆÛŒØ¯ØŒ Ø±Ø§Ø²Ø¯Ø§Ø±Ù Ø¯ÛŒØ±ÛŒÙ†ÛŒ\n\nÙ†Ø¨Ø¶Ù Ø¢Ø±Ø²ÙˆÙ‡Ø§ÛŒÙ…ØŒ Ù…ÛŒâ€ŒØ²Ù†Ø¯ØŒ ØªÙ¾Ø´ Ø¯Ø§Ø±Ø¯\nØ¢Ø²Ù…Ù†Ø¯Ù Ø¯ÛŒØ¯Ø§Ø±ØªØŒ Ø¨Ø§Ø­Ø¶ÙˆØ±Ù Ø¯Ù„â€ŒØ¨ÛŒÙ†ÛŒ\n\nÙ…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø§ÛŒ Ø¯Ù‡Ù‚Ø§Ù†ØŒ Ø¨Ø§Ø±Ù Ú†Ø§Ø±ÙØµÙ„Ù Ø³Ø§Ù„\nØ§Ø² Ø¯Ø±Ø®ØªÙ Ø­ÙØ³Ù† Ø§ÙˆØŒ ØªØ§Ø²Ù‡ ØªØ§Ø²Ù‡ Ø¨Ø±Ú†ÛŒÙ†ÛŒ\n\nØªØ§Ø¨Ù‡Ø§Ø± Ù…ÛŒâ€ŒØ¢ÛŒØ¯ØŒ ØªØ§Ø²Ú¯ÛŒ Ø§Ù…Ø§Ù†Øª Ø¯Ù‡\nØ¯Ø³ØªÙ‡ Ø¯Ø³ØªÙ‡ Ú¯Ù„â€ŒÙ‡Ø§ Ø±Ø§ØŒ Ø¨Ø§ Ø¬Ù‡Ø§Ù† Ø±Ù†Ú¯ÛŒÙ†ÛŒ\n\nÛŒÚ© ØºØ²Ù„ Ø³Ø±ÙˆØ¯Ù… Ù…Ù†ØŒ Ø¨Ø§Ø·Ø±Ø§ÙˆØªÙ Ú¯Ù„â€ŒÙ‡Ø§\nØªØ§ ØºØ¨Ø§Ø±Ù ØºÙ… Ú†ÛŒÙ†Ù… Ø§Ø² ÙØ¶Ø§ÛŒ ØºÙ…Ú¯ÛŒÙ†ÛŒ",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "3. Ø¢Ø®Ø±ÛŒÙ† ØªØ­ÙÙ‡",
    "content": "Ø§ÛŒ Ú©Ø§Ø´!\nØ§ÛŒ Ú©Ø§Ø´ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÙ… Ø³ØªØ§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ÛŒ Ø¯Ù„ Ø±Ø§ Ø¯Ø± Ø®Ø·ÙˆØ· Ù…ÙˆØ§Ø²ÛŒ Ù…Ù†Ø¸Ù… Ø³Ø§Ø²Ù…\nÙˆ Ø¢ÙØªØ§Ø¨ÛŒ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ† Ø´Ø¨ Ø¯ÛŒØ¬ÙˆØ±ØŒ Ø±ÙˆØ´Ù† Ú©Ù†Ù…...\n\nØ§ÛŒ Ú©Ø§Ø´! Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÙ…\nÚ¯Ù„ÛŒ Ø³Ø±Ø®ÛŒ Ø§Ø² Ø¨Ø§Øº Ø¢Ø±Ø²ÙˆÙ‡Ø§ Ø¨Ú†ÛŒÙ†Ù…...\nØªØ§ØŒ Ø¯Ø± Ø¬Ø´Ù† Ø´Ø§Ø¯ÛŒØª Ø³Ù‡Ù…ÛŒ Ú©ÙˆÚ†Ú©ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù….\nØ§Ù„Ø¢Ù†ØŒ\nØ§ÛŒ Ú©Ø§Ø´!\nØ§Ú¯Ø± Ø§Ø² Ù„Ø§ÛŒ Ø®Ø§Ø±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø± Ù¾Ø§Ù‡Ø§ÛŒÙ… Ù…Ø±Ù‡Ù… Ø­Ù†Ø§ Ù…ÛŒâ€ŒÚ¯Ø°Ø§Ø±Ù†Ø¯ØŒ\nØ§Ø² Ù„Ø§ÛŒ Ù¾Ø§Ù‡Ø§ÛŒ Ø³Ø±Ø¯ Ø¨Ø§ÙˆØ±Ù‡Ø§ØŒ\nØ§Ø² Ù‡Ø¬ÙˆÙ… Ø³Ú©ÙˆØª Ø§Ù†Ø¯ÛŒØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÚ†ØŒ\nÙˆ Ø§Ø² Ø²ÛŒØ± Ø¨Ø§Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø®Ø§Ø±Ù‡Ø§ Ø±Ø§ Ø¢Ø¨ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯\nÚ¯Ù„ÛŒ ÛŒØ§Ø³ÛŒ Ú†ÛŒØ¯Ù‡\nØ¨Ø§ Ø®ÛŒØ§Ù„ Ø¢ØºÙˆØ´ØŒ ÙØ±Ø´ Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒØª Ù†Ù…Ø§ÛŒÙ…\nØ¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø¢Ø®Ø±ÛŒÙ† ØªØ­ÙÙ‡\nÙ¾Ø°ÛŒØ±Ø§ Ø´ÙˆÛŒ!!!",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "4. Ú†Ø±Ø§",
    "content": "Ú†Ø±Ø§ Ú¯ÙØªÙ… Ù†Ù…ÛŒâ€ŒØ¢ÛŒÛŒØŸ\nÙ†Ù…ÛŒâ€ŒØ¢ÛŒÛŒØŸ\nÚ†Ø±Ø§ Ú¯ÙØªÙ… Ù†Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù…ØŸ\nÙ†Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù…ØŸ\n\nÚ†Ø±Ø§ Ø¨Ø§ Ø´Ú© Ùˆ ØªØ±Ø¯ÛŒØ¯ Ùˆ Ù†Ú¯Ø§Ù‡ ØªÙ„Ø® Ùˆ Ø¨ÛŒâ€ŒÙ„Ø¨Ø®Ù†Ø¯\nØ¨Ù‡ Ø±ÙˆÛŒ Ø¯Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†\nØ¯Ø±ÛŒ Ø±Ø§ Ø¨Ø§Ø² Ù†Ú¯Ø°Ø§Ø´ØªÛŒØŸ",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "5. Ú†Ù‡ ØªÙ„Ø® Ø§Ø³Øª",
    "content": "Ú†Ù‡ ØªÙ„Ø® Ø§Ø³Øª\nØ¯Ù„ Ø¨Ø³ØªÙ† Ø¨Ù‡ Ø¯Ø±ÙˆØºÛŒ Ø´ÛŒØ±ÛŒÙ†\nÚ†Ù‡ Ø³Ø®Øª Ø§Ø³Øª\nÛŒØ§Ø¯ Ú¯Ø±ÙØªÙ† ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø¯Ø± Ø§ÙˆØ¬ Ø¯Ù„ØªÙ†Ú¯ÛŒ",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "6. ØµØ¯Ø§Ù‚Øª",
    "content": "ØµØ¯Ø§Ù‚Øª Ø±Ø§ Ù†Ù…ÛŒâ€ŒÙÙ‡Ù…Ù†Ø¯ Ø¢Ù†Ø§Ù†\nÚ©Ù‡ Ø§Ø² Ú†Ø´Ù…Ø§Ù†Ø´Ø§Ù† Ù¾Ø±Ø¯Ù‡ Ø§ÙØªØ±Ø§ Ø¢ÙˆÛŒØ®ØªÙ‡ Ø§Ø³Øª\nÙˆ Ø§Ø² Ù„Ø¨Ø®Ù†Ø¯Ø´Ø§Ù† ÙØ±ÛŒØ¨ Ù…ÛŒâ€ŒØ¨Ø§Ø±Ø¯\nÙˆ Ø§Ø² Ú©Ù„Ù…Ø§ØªØ´Ø§Ù† Ø®Ù†Ø¬Ø± Ø¯Ø±ÙˆØº",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "7. Ø§Ù…ÛŒØ¯",
    "content": "Ø§Ù…ÛŒØ¯ Ø±Ø§ Ø¨Ø§ÛŒØ¯ Ø¨ØºÙ„ Ú¯Ø±ÙØª\nØ¯Ø± Ø¢ØºÙˆØ´ Ú©Ø´ÛŒØ¯\nØ¨Ù‡ Ø­Ø±Ùâ€ŒÙ‡Ø§ÛŒØ´ Ú¯ÙˆØ´ Ø¯Ø§Ø¯\nÙˆ Ø¯Ø± ØªØ§Ø±ÛŒÚ©ÛŒâ€ŒÙ‡Ø§\nØ§Ùˆ Ø±Ø§ Ø´Ù…Ø¹ Ú©Ø±Ø¯",
    "date": ""
  },
  {
    "book": "Ø¬Ù†Ø§Ø²Ù‡ ÙØ±ÛŒØ§Ø¯",
    "title": "8. Ø¨ÛŒØ¯Ø§Ø±ÛŒ",
    "content": "Ø¨ÛŒØ¯Ø§Ø± Ú©Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÛŒ\nØ¯Ù†ÛŒØ§ Ù‡Ù…Ø§Ù† Ø§Ø³Øª\nÙˆÙ„ÛŒ ØªÙˆ ÙØ±Ù‚ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒ\nÙˆ Ø§ÛŒÙ† Ú©Ø§ÙÛŒâ€ŒØ³Øª Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ù…Ø³ÛŒØ±Øª",
    "date": ""
  }
];
function saveData() {
  localStorage.setItem('poemsData', JSON.stringify(poems));
  renderBooks();
}

function renderBooks() {
  const bookSelect = document.getElementById('bookSelect');
  const books = [...new Set(poems.map(p => p.book))];
  bookSelect.innerHTML = books.map(b => `<option value="${b}">${b}</option>`).join('');
  displayPoems(bookSelect.value);
}

document.getElementById('bookSelect').addEventListener('change', e => {
  displayPoems(e.target.value);
});

function displayPoems(book) {
  const filtered = poems.filter(p => p.book === book);
  const poemList = document.getElementById('poemList');
  poemList.innerHTML = filtered.map(p =>
    `<div class='poem-box'>
      <h4>${p.title}</h4>
      <p>${p.content}</p>
      <small>${p.date}</small>
    </div>`).join('');
}
function showRandomPoem() {
  const poem = poems[Math.floor(Math.random() * poems.length)];
  const display = document.getElementById('poemDisplay');
  display.innerHTML = poem
    ? `<div class='poem-box'>
         <h4>${poem.title}</h4>
         <p>${poem.content}</p>
         <small>${poem.date}</small>
       </div>`
    : '';
}

function addPoem() {
  const book = document.getElementById('newBook').value.trim();
  const title = document.getElementById('newTitle').value.trim();
  const content = document.getElementById('newContent').value.trim();
  const date = document.getElementById('newDate').value;
  if (book && title && content) {
    poems.push({ book, title, content, date });
    saveData();
    alert('Ø´Ø¹Ø± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯');
    document.getElementById('newBook').value = '';
    document.getElementById('newTitle').value = '';
    document.getElementById('newContent').value = '';
    document.getElementById('newDate').value = '';
  }
}
function toggleLogin() {
  document.querySelector('.login-form').style.display = 'block';
}

function loginAdmin() {
  const pass = document.getElementById('adminPassword').value;
  if (pass === 'admin123') {
    document.getElementById('mainPage').style.display = 'none';
    document.getElementById('adminPage').style.display = 'block';
  } else {
    alert('Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª');
  }
}

function logoutAdmin() {
  document.getElementById('adminPage').style.display = 'none';
  document.getElementById('mainPage').style.display = 'block';
}

function searchPoems() {
  const q = document.getElementById('searchInput').value.trim().toLowerCase();
  const filtered = poems.filter(p =>
    p.title.toLowerCase().includes(q) ||
    p.content.toLowerCase().includes(q) ||
    p.book.toLowerCase().includes(q)
  );
  const poemList = document.getElementById('poemList');
  poemList.innerHTML = filtered.map(p =>
    `<div class='poem-box'>
      <h4>${p.title}</h4>
      <p>${p.content}</p>
      <small>${p.date}</small>
    </div>`).join('');
}
function downloadJSON() {
  const blob = new Blob([JSON.stringify(poems)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'poems.json';
  a.click();
}

function uploadJSON(event) {
  const file = event.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    try {
      poems = JSON.parse(e.target.result);
      saveData();
    } catch (err) {
      alert('ÙØ§ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
    }
  };
  reader.readAsText(file);
}

window.onload = renderBooks;
</script>
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ø´Ø¹Ø§Ø± Ù…ÛŒØ± Ø¸Ù‡ÙˆØ±Ø§Ù„Ø¯ÛŒÙ† Ø´Ù‡ÛŒØ±</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap');
    body {
      font-family: 'Vazirmatn', sans-serif;
      background: linear-gradient(to bottom right, #e6f0ff, #ffffff);
      margin: 0;
      padding: 0;
      direction: rtl;
      color: #333;
    }
    header {
      background: linear-gradient(to left, #6a11cb, #2575fc);
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      border-bottom: 5px solid #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .container {
      max-width: 960px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    select, input, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 10px;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-size: 15px;
      box-sizing: border-box;
    }

    button {
      background-color: #4a90e2;
      color: white;
      border: none;
      transition: 0.3s;
      cursor: pointer;
    }

    button:hover {
      background-color: #357ab8;
    }

    .section {
      background: #f9fbfd;
      border: 1px solid #dce3ea;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 14px;
    }

    .poem-box {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 12px;
      margin: 10px 0;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .poem-box h4 {
      margin: 0 0 8px 0;
      color: #2c3e50;
    }

    .poem-box p {
      margin: 0;
      white-space: pre-wrap;
    }

    .poem-box small {
      display: block;
      margin-top: 8px;
      color: #888;
    }

    .login-form, .admin-page {
      display: none;
    }

    .buttons-group {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .buttons-group button {
      flex: 1;
      min-width: 100px;
      padding: 8px;
      font-size: 14px;
    }

    .upload-controls {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    @media (max-width: 600px) {
      .container {
        padding: 12px;
        margin: 10px;
      }
      header {
        font-size: 17px;
        padding: 14px;
      }
      .buttons-group {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <header>
    Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§Ø´Ø¹Ø§Ø± Ù…ÛŒØ± Ø¸Ù‡ÙˆØ±Ø§Ù„Ø¯ÛŒÙ† Ø´Ù‡ÛŒØ±
  </header>

  <div class="container" id="mainPage">
    <div class="section">
      <label>Ø§Ù†ØªØ®Ø§Ø¨ Ú©ØªØ§Ø¨:</label>
      <select id="bookSelect"></select>
    </div>

    <div class="section">
      <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø´Ø¹Ø±Ù‡Ø§..." oninput="searchPoems()">
    </div>

    <div class="section" id="poemList"></div>
    <div class="section" id="poemDisplay"></div>

    <div class="section buttons-group">
      <button onclick="showRandomPoem()">Ø´Ø¹Ø± ØªØµØ§Ø¯ÙÛŒ</button>
      <button onclick="window.print()">Ú†Ø§Ù¾</button>
    </div>

    <div class="section login-form">
      <input type="password" id="adminPassword" placeholder="Ø±Ù…Ø² Ø§Ø¯Ù…ÛŒÙ†">
      <button onclick="loginAdmin()">ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†</button>
    </div>

    <div class="section upload-controls">
      <button onclick="toggleLogin()">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø¨Ø®Ø´ Ø§Ø¯Ù…ÛŒÙ†</button>
      <button onclick="downloadJSON()">ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ JSON</button>
      <label for="jsonInput">ğŸ“¤ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ JSON:</label>
      <input type="file" id="jsonInput" onchange="uploadJSON(event)">
    </div>
  </div>
  <div class="container admin-page" id="adminPage">
    <div class="section">
      <h3>Ø§ÙØ²ÙˆØ¯Ù† Ø´Ø¹Ø± Ø¬Ø¯ÛŒØ¯</h3>
      <input type="text" id="newBook" placeholder="Ù†Ø§Ù… Ú©ØªØ§Ø¨">
      <input type="text" id="newTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø´Ø¹Ø±">
      <textarea id="newContent" placeholder="Ù…ØªÙ† Ø´Ø¹Ø±"></textarea>
      <input type="date" id="newDate">
      <button onclick="addPoem()">Ø§ÙØ²ÙˆØ¯Ù† Ø´Ø¹Ø±</button>
      <button onclick="logoutAdmin()">Ø®Ø±ÙˆØ¬ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</button>
    </div>
  </div>
</body>
</html>
